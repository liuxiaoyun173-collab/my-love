<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æˆ‘ä»¬çš„ä¸“å±ç©ºé—´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        :root {
            --primary-color: #ff6b93;
            --secondary-color: #7ec4cf;
            --accent-color: #ffb6c1;
            --bg-color: #fff9fb;
            --text-color: #333;
            --light-text: #666;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --card-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #ffecef 0%, #fdeff3 100%);
            color: var(--text-color);
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .app-container {
            max-width: 100%;
            min-height: 100vh;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
        }
        
        .app-header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 0 0 30px 30px;
            position: relative;
            overflow: hidden;
        }
        
        .header-decoration {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.1;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50,50 C60,40 70,30 50,30 C30,30 40,40 50,50 Z' fill='white'/%3E%3C/svg%3E");
            background-size: 80px 80px;
        }
        
        .avatar-container {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 4px solid rgba(255, 255, 255, 0.8);
            margin: 0 auto 15px;
            overflow: hidden;
            position: relative;
            box-shadow: var(--shadow);
            cursor: pointer;
            z-index: 2;
        }
        
        .avatar-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .avatar-upload {
            position: absolute;
            bottom: 0;
            right: 0;
            background: var(--primary-color);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            cursor: pointer;
        }
        
        .app-title {
            font-size: 1.5rem;
            margin-bottom: 5px;
            font-weight: 600;
            z-index: 2;
            position: relative;
        }
        
        .app-subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
            z-index: 2;
            position: relative;
        }
        
        .countdown-container {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            backdrop-filter: blur(5px);
            z-index: 2;
            position: relative;
        }
        
        .countdown-item {
            text-align: center;
        }
        
        .countdown-value {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .countdown-label {
            font-size: 0.8rem;
            opacity: 0.8;
        }
        
        .countdown-edit {
            margin-top: 10px;
            font-size: 0.8rem;
            text-decoration: underline;
            cursor: pointer;
            z-index: 2;
            position: relative;
        }
        
        .homepage-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 20px;
        }
        
        .feature-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid rgba(255, 182, 193, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 107, 147, 0.05) 0%, rgba(255, 182, 193, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .feature-card:hover::before {
            opacity: 1;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }
        
        .feature-card:active {
            transform: translateY(-2px);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: block;
        }
        
        .feature-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--primary-color);
        }
        
        .feature-desc {
            font-size: 0.8rem;
            color: var(--light-text);
        }
        
        .content-section {
            display: none;
            padding: 20px;
            min-height: 60vh;
        }
        
        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--primary-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .add-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .back-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .back-btn::before {
            content: 'â†';
            margin-right: 5px;
        }
        
        /* ç›¸å†Œæ ·å¼ */
        .album-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .album-item {
            aspect-ratio: 1;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            box-shadow: var(--shadow);
        }
        
        .album-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .album-item:hover img {
            transform: scale(1.05);
        }
        
        .delete-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255, 71, 87, 0.8);
            color: white;
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            font-size: 12px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .album-item:hover .delete-btn {
            opacity: 1;
        }
        
        /* éŸ³ä¹æ’­æ”¾å™¨æ ·å¼ */
        .music-player {
            background: #f9f9f9;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .now-playing {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .audio-controls {
            width: 100%;
            margin: 10px 0;
        }
        
        .playlist {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .playlist-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .playlist-item:hover, .playlist-item.active {
            background: rgba(255, 107, 147, 0.1);
        }
        
        /* æ—¥è®°æ ·å¼ */
        .diary-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .diary-item {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .diary-date {
            font-size: 0.8rem;
            color: var(--light-text);
            margin-bottom: 5px;
        }
        
        .diary-content {
            margin: 10px 0;
        }
        
        /* è®°è´¦æ ·å¼ */
        .expense-form {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .expense-list {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .expense-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid #eee;
            position: relative;
        }
        
        /* æ—…æ¸¸è®¡åˆ’æ ·å¼ */
        .travel-plan {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .travel-date {
            font-size: 0.9rem;
            color: var(--light-text);
        }
        
        .travel-destination {
            font-size: 1.1rem;
            font-weight: bold;
            margin: 5px 0;
        }
        
        /* åˆ é™¤æŒ‰é’®é€šç”¨æ ·å¼ */
        .item-delete {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff4757;
            color: white;
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            font-size: 12px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .item-delete:hover {
            opacity: 1;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 360px) {
            .homepage-grid {
                grid-template-columns: 1fr;
            }
            
            .album-grid {
                grid-template-columns: 1fr;
            }
            
            .app-title {
                font-size: 1.3rem;
            }
            
            .avatar-container {
                width: 80px;
                height: 80px;
            }
        }
        
        @media (min-width: 768px) {
            .app-container {
                max-width: 500px;
            }
            
            .homepage-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .no-select {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        .empty-state {
            text-align: center;
            padding: 30px;
            color: var(--light-text);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            width: 90%;
            max-width: 500px;
            border-radius: 15px;
            padding: 20px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .file-input {
            display: none;
        }
        
        .file-label {
            display: block;
            background: #f0f0f0;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="app-container no-select">
        <header class="app-header">
            <div class="header-decoration"></div>
            <div class="avatar-container" id="avatar-container">
                <img class="avatar-img" id="avatar-img" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZmY5YTllIi8+CiAgPHBhdGggZD0iTTUwLDgwIEM0MCw3MCAyMCw1MCA1MCwzMCBDODAsNTAgNjAsNzAgNTAsODAgWiIgZmlsbD0iI2ZmNmI5MyIvPgo8L3N2Zz4=" alt="å¤´åƒ">
                <div class="avatar-upload" id="avatar-upload">+</div>
                <input type="file" id="avatar-input" class="file-input" accept="image/*">
            </div>
            <h1 class="app-title">æˆ‘ä»¬çš„ä¸“å±ç©ºé—´</h1>
            <p class="app-subtitle">è®°å½•æˆ‘ä»¬çš„ç‚¹ç‚¹æ»´æ»´</p>
            
            <div class="countdown-container">
                <div class="countdown-item">
                    <div class="countdown-value" id="countdown-days">--</div>
                    <div class="countdown-label">å¤©</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-value" id="countdown-hours">--</div>
                    <div class="countdown-label">æ—¶</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-value" id="countdown-minutes">--</div>
                    <div class="countdown-label">åˆ†</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-value" id="countdown-seconds">--</div>
                    <div class="countdown-label">ç§’</div>
                </div>
            </div>
            <div class="countdown-edit" id="edit-countdown">ç¼–è¾‘å€’è®¡æ—¶</div>
        </header>
        
        <!-- æ¸©é¦¨é¦–é¡µç½‘æ ¼ -->
        <div class="homepage-grid" id="homepage-grid">
            <div class="feature-card" data-section="memories">
                <span class="feature-icon">ğŸ“¸</span>
                <div class="feature-title">ç”œèœœç›¸å†Œ</div>
                <div class="feature-desc">çè—æˆ‘ä»¬çš„ç¾å¥½ç¬é—´</div>
            </div>
            
            <div class="feature-card" data-section="music">
                <span class="feature-icon">ğŸµ</span>
                <div class="feature-title">ä¸“å±éŸ³ä¹</div>
                <div class="feature-desc">æˆ‘ä»¬çš„çˆ±æƒ…æ—‹å¾‹</div>
            </div>
            
            <div class="feature-card" data-section="diary">
                <span class="feature-icon">ğŸ“–</span>
                <div class="feature-title">æ‹çˆ±æ—¥è®°</div>
                <div class="feature-desc">è®°å½•æ¯å¤©çš„å°ç¡®å¹¸</div>
            </div>
            
            <div class="feature-card" data-section="expense">
                <span class="feature-icon">ğŸ’°</span>
                <div class="feature-title">å…±åŒè®°è´¦</div>
                <div class="feature-desc">è§„åˆ’æˆ‘ä»¬çš„æœªæ¥</div>
            </div>
            
            <div class="feature-card" data-section="travel">
                <span class="feature-icon">âœˆï¸</span>
                <div class="feature-title">æ—…è¡Œè®¡åˆ’</div>
                <div class="feature-desc">æœŸå¾…ä¸€èµ·çœ‹ä¸–ç•Œ</div>
            </div>
            
            <div class="feature-card" data-section="countdowns">
                <span class="feature-icon">â°</span>
                <div class="feature-title">é‡è¦æ—¥æœŸ</div>
                <div class="feature-desc">å€’æ•°æˆ‘ä»¬çš„çºªå¿µæ—¥</div>
            </div>
        </div>
        
        <!-- å†…å®¹åŒºåŸŸ -->
        <main>
            <section id="memories" class="content-section">
                <button class="back-btn" id="back-memories">è¿”å›é¦–é¡µ</button>
                <div class="section-title">
                    <span>æˆ‘ä»¬çš„ç”œèœœç›¸å†Œ</span>
                    <button class="add-btn" id="add-photo-btn">+</button>
                </div>
                <div class="album-grid" id="album-container">
                    <!-- ç›¸å†Œå†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                </div>
            </section>
            
            <section id="music" class="content-section">
                <button class="back-btn" id="back-music">è¿”å›é¦–é¡µ</button>
                <div class="section-title">
                    <span>ä¸“å±éŸ³ä¹</span>
                    <button class="add-btn" id="add-music-btn">+</button>
                </div>
                <div class="music-player">
                    <div class="now-playing" id="now-playing">é€‰æ‹©ä¸€é¦–æ­Œæ›²</div>
                    <audio controls class="audio-controls" id="audio-player">
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
                    </audio>
                </div>
                <div class="playlist" id="playlist">
                    <!-- æ’­æ”¾åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                </div>
            </section>
            
            <section id="diary" class="content-section">
                <button class="back-btn" id="back-diary">è¿”å›é¦–é¡µ</button>
                <div class="section-title">
                    <span>æ‹çˆ±æ—¥è®°</span>
                    <button class="add-btn" id="add-diary-btn">+</button>
                </div>
                <div class="diary-list" id="diary-container">
                    <!-- æ—¥è®°å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                </div>
            </section>
            
            <section id="expense" class="content-section">
                <button class="back-btn" id="back-expense">è¿”å›é¦–é¡µ</button>
                <div class="section-title">
                    <span>å…±åŒè®°è´¦</span>
                    <button class="add-btn" id="add-expense-btn">+</button>
                </div>
                <div class="expense-form" id="expense-form">
                    <div class="form-group">
                        <label for="expense-desc">é¡¹ç›®æè¿°</label>
                        <input type="text" id="expense-desc" class="form-control" placeholder="ä¾‹å¦‚ï¼šæ™šé¤ã€ç”µå½±ç¥¨ç­‰">
                    </div>
                    <div class="form-group">
                        <label for="expense-amount">é‡‘é¢ (å…ƒ)</label>
                        <input type="number" id="expense-amount" class="form-control" placeholder="0.00">
                    </div>
                    <div class="form-group">
                        <label for="expense-category">ç±»åˆ«</label>
                        <select id="expense-category" class="form-control">
                            <option value="é¤é¥®">é¤é¥®</option>
                            <option value="å¨±ä¹">å¨±ä¹</option>
                            <option value="äº¤é€š">äº¤é€š</option>
                            <option value="è´­ç‰©">è´­ç‰©</option>
                            <option value="æ—…è¡Œ">æ—…è¡Œ</option>
                            <option value="å…¶ä»–">å…¶ä»–</option>
                        </select>
                    </div>
                    <button class="btn" id="save-expense-btn">ä¿å­˜è®°å½•</button>
                </div>
                <div class="expense-list" id="expense-container">
                    <!-- è®°è´¦å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                </div>
            </section>
            
            <section id="travel" class="content-section">
                <button class="back-btn" id="back-travel">è¿”å›é¦–é¡µ</button>
                <div class="section-title">
                    <span>æ—…è¡Œè®¡åˆ’</span>
                    <button class="add-btn" id="add-travel-btn">+</button>
                </div>
                <div id="travel-container">
                    <!-- æ—…è¡Œè®¡åˆ’å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                </div>
            </section>
            
            <section id="countdowns" class="content-section">
                <button class="back-btn" id="back-countdowns">è¿”å›é¦–é¡µ</button>
                <div class="section-title">
                    <span>é‡è¦æ—¥æœŸ</span>
                    <button class="add-btn" id="add-countdown-btn">+</button>
                </div>
                <div id="countdowns-container">
                    <!-- å€’è®¡æ—¶å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                </div>
            </section>
        </main>
    </div>
    
    <!-- æ¨¡æ€æ¡†éƒ¨åˆ†ä¿æŒä¸å˜ -->
    <div class="modal" id="countdown-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>è®¾ç½®é‡è¦æ—¥æœŸ</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="form-group">
                <label for="countdown-title">äº‹ä»¶åç§°</label>
                <input type="text" id="countdown-title" class="form-control" placeholder="ä¾‹å¦‚ï¼šçºªå¿µæ—¥ã€ç”Ÿæ—¥ç­‰" value="æˆ‘ä»¬çš„çºªå¿µæ—¥">
            </div>
            <div class="form-group">
                <label for="countdown-date">æ—¥æœŸ</label>
                <input type="date" id="countdown-date" class="form-control" value="2024-12-25">
            </div>
            <button class="btn" id="save-countdown-btn">ä¿å­˜æ—¥æœŸ</button>
        </div>
    </div>
    
    <div class="modal" id="photo-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>æ·»åŠ ç…§ç‰‡</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="form-group">
                <label for="photo-upload" class="file-label">é€‰æ‹©ç…§ç‰‡</label>
                <input type="file" id="photo-upload" class="file-input" accept="image/*" multiple>
            </div>
            <div class="form-group">
                <label for="photo-desc">ç…§ç‰‡æè¿°</label>
                <input type="text" id="photo-desc" class="form-control" placeholder="ä¸ºç…§ç‰‡æ·»åŠ æè¿°">
            </div>
            <button class="btn" id="save-photo-btn">ä¿å­˜ç…§ç‰‡</button>
        </div>
    </div>
    
    <div class="modal" id="music-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>æ·»åŠ éŸ³ä¹</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="form-group">
                <label for="music-title">æ­Œæ›²æ ‡é¢˜</label>
                <input type="text" id="music-title" class="form-control" placeholder="æ­Œæ›²åç§°">
            </div>
            <div class="form-group">
                <label for="music-artist">æ­Œæ‰‹</label>
                <input type="text" id="music-artist" class="form-control" placeholder="æ­Œæ‰‹åç§°">
            </div>
            <div class="form-group">
                <label for="music-url">éŸ³ä¹URL</label>
                <input type="text" id="music-url" class="form-control" placeholder="éŸ³ä¹æ–‡ä»¶é“¾æ¥">
            </div>
            <button class="btn" id="save-music-btn">ä¿å­˜éŸ³ä¹</button>
        </div>
    </div>
    
    <div class="modal" id="diary-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>å†™æ—¥è®°</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="form-group">
                <label for="diary-title">æ—¥è®°æ ‡é¢˜</label>
                <input type="text" id="diary-title" class="form-control" placeholder="æ—¥è®°æ ‡é¢˜">
            </div>
            <div class="form-group">
                <label for="diary-content">æ—¥è®°å†…å®¹</label>
                <textarea id="diary-content" class="form-control" rows="5" placeholder="è®°å½•ä»Šå¤©çš„å¿ƒæƒ…å’Œæ•…äº‹"></textarea>
            </div>
            <button class="btn" id="save-diary-btn">ä¿å­˜æ—¥è®°</button>
        </div>
    </div>
    
    <div class="modal" id="travel-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>æ·»åŠ æ—…è¡Œè®¡åˆ’</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="form-group">
                <label for="travel-destination">ç›®çš„åœ°</label>
                <input type="text" id="travel-destination" class="form-control" placeholder="æƒ³å»çš„åœ°æ–¹">
            </div>
            <div class="form-group">
                <label for="travel-date">è®¡åˆ’æ—¥æœŸ</label>
                <input type="date" id="travel-date" class="form-control">
            </div>
            <div class="form-group">
                <label for="travel-details">è®¡åˆ’è¯¦æƒ…</label>
                <textarea id="travel-details" class="form-control" rows="3" placeholder="æ—…è¡Œè®¡åˆ’å’Œæƒ³æ³•"></textarea>
            </div>
            <button class="btn" id="save-travel-btn">ä¿å­˜è®¡åˆ’</button>
        </div>
    </div>

    <script>
        // æ•°æ®å­˜å‚¨å’Œç®¡ç†
        const AppData = {
            // ä»localStorageåŠ è½½æ•°æ®æˆ–ä½¿ç”¨é»˜è®¤æ•°æ®
            avatar: localStorage.getItem('coupleAvatar') || "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZmY5YTllIi8+CiAgPHBhdGggZD0iTTUwLDgwIEM0MCw3MCAyMCw1MCA1MCwzMCBDODAsNTAgNjAsNzAgNTAsODAgWiIgZmlsbD0iI2ZmNmI5MyIvPgo8L3N2Zz4=",
            
            photos: JSON.parse(localStorage.getItem('couplePhotos')) || [
                {
                    id: 1,
                    src: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZmY5YTllIi8+CiAgPGNpcmNsZSBjeD0iMTUwIiBjeT0iMTUwIiByPSI4MCIgZmlsbD0iI2ZmNmI5MyIvPgo8L3N2Zz4=",
                    caption: "æˆ‘ä»¬çš„å›å¿†"
                }
            ],
            
            songs: JSON.parse(localStorage.getItem('coupleSongs')) || [
                {
                    id: 1,
                    title: "ç¤ºä¾‹æ­Œæ›² - çˆ±çš„æ—‹å¾‹",
                    src: "#",
                    artist: "ç¤ºä¾‹æ­Œæ‰‹"
                }
            ],
            
            diaries: JSON.parse(localStorage.getItem('coupleDiaries')) || [
                {
                    id: 1,
                    title: "æˆ‘ä»¬çš„ç¬¬ä¸€å¤©",
                    content: "ä»Šå¤©æ˜¯æˆ‘ä»¬ç›¸è¯†çš„ç¬¬ä¸€å¤©ï¼Œä¸€åˆ‡éƒ½å¾ˆç¾å¥½ã€‚",
                    date: new Date().toISOString().split('T')[0]
                }
            ],
            
            expenses: JSON.parse(localStorage.getItem('coupleExpenses')) || [],
            
            travelPlans: JSON.parse(localStorage.getItem('coupleTravelPlans')) || [
                {
                    id: 1,
                    destination: "ç¤ºä¾‹ç›®çš„åœ°",
                    date: new Date(Date.now() + 30*24*60*60*1000).toISOString().split('T')[0],
                    details: "è¿™æ˜¯æˆ‘ä»¬è®¡åˆ’çš„ç¬¬ä¸€æ¬¡æ—…è¡Œï¼Œéå¸¸æœŸå¾…ï¼"
                }
            ],
            
            countdown: JSON.parse(localStorage.getItem('coupleCountdown')) || {
                title: "æˆ‘ä»¬çš„çºªå¿µæ—¥",
                date: "2024-12-25"
            },
            
            // ä¿å­˜æ•°æ®åˆ°localStorage
            saveData: function() {
                localStorage.setItem('coupleAvatar', this.avatar);
                localStorage.setItem('couplePhotos', JSON.stringify(this.photos));
                localStorage.setItem('coupleSongs', JSON.stringify(this.songs));
                localStorage.setItem('coupleDiaries', JSON.stringify(this.diaries));
                localStorage.setItem('coupleExpenses', JSON.stringify(this.expenses));
                localStorage.setItem('coupleTravelPlans', JSON.stringify(this.travelPlans));
                localStorage.setItem('coupleCountdown', JSON.stringify(this.countdown));
            },
            
            // ç”Ÿæˆæ–°ID
            generateId: function(array) {
                return array.length > 0 ? Math.max(...array.map(item => item.id)) + 1 : 1;
            },
            
            // åˆ é™¤é¡¹ç›®
            deleteItem: function(array, id) {
                const index = array.findIndex(item => item.id === id);
                if (index !== -1) {
                    array.splice(index, 1);
                    this.saveData();
                    return true;
                }
                return false;
            }
        };
        
        // åˆå§‹åŒ–åŠŸèƒ½å¡ç‰‡ç‚¹å‡»äº‹ä»¶
        function initFeatureCards() {
            const featureCards = document.querySelectorAll('.feature-card');
            featureCards.forEach(card => {
                card.addEventListener('click', () => {
                    const sectionId = card.dataset.section;
                    showSection(sectionId);
                });
            });
        }
        
        // æ˜¾ç¤ºç‰¹å®šå†…å®¹åŒºåŸŸ
        function showSection(sectionId) {
            // éšè—é¦–é¡µç½‘æ ¼
            document.getElementById('homepage-grid').style.display = 'none';
            
            // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰å®šçš„å†…å®¹åŒºåŸŸ
            document.getElementById(sectionId).classList.add('active');
        }
        
        // åˆå§‹åŒ–è¿”å›æŒ‰é’®
        function initBackButtons() {
            const backButtons = document.querySelectorAll('.back-btn');
            backButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
                    document.querySelectorAll('.content-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // æ˜¾ç¤ºé¦–é¡µç½‘æ ¼
                    document.getElementById('homepage-grid').style.display = 'grid';
                });
            });
        }
        
        // åˆå§‹åŒ–å¤´åƒä¸Šä¼ 
        function initAvatarUpload() {
            const avatarInput = document.getElementById('avatar-input');
            const avatarImg = document.getElementById('avatar-img');
            const avatarUpload = document.getElementById('avatar-upload');
            
            avatarUpload.addEventListener('click', () => {
                avatarInput.click();
            });
            
            avatarInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        avatarImg.src = e.target.result;
                        AppData.avatar = e.target.result;
                        AppData.saveData();
                    };
                    
                    reader.readAsDataURL(file);
                }
            });
            
            // åŠ è½½ä¿å­˜çš„å¤´åƒ
            avatarImg.src = AppData.avatar;
        }
        
        // åˆå§‹åŒ–ç›¸å†Œ
        function initAlbum() {
            const albumContainer = document.getElementById('album-container');
            
            if (AppData.photos.length === 0) {
                albumContainer.innerHTML = '<div class="empty-state">è¿˜æ²¡æœ‰ç…§ç‰‡ï¼Œç‚¹å‡»+æ·»åŠ ç¬¬ä¸€å¼ ç…§ç‰‡</div>';
                return;
            }
            
            albumContainer.innerHTML = '';
            
            // æ·»åŠ ä¸Šä¼ æŒ‰é’®
            const uploadItem = document.createElement('div');
            uploadItem.className = 'album-item album-upload';
            uploadItem.innerHTML = `
                <span>+</span>
                <div>æ·»åŠ ç…§ç‰‡</div>
            `;
            uploadItem.addEventListener('click', () => {
                document.getElementById('photo-modal').style.display = 'flex';
            });
            albumContainer.appendChild(uploadItem);
            
            // æ·»åŠ ç…§ç‰‡
            AppData.photos.forEach(photo => {
                const albumItem = document.createElement('div');
                albumItem.className = 'album-item';
                albumItem.innerHTML = `
                    <img src="${photo.src}" alt="${photo.caption}" onclick="showPhotoDetail(${photo.id})">
                    <button class="delete-btn" onclick="deletePhoto(${photo.id})">Ã—</button>
                `;
                albumContainer.appendChild(albumItem);
            });
        }
        
        // åˆ é™¤ç…§ç‰‡
        function deletePhoto(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™å¼ ç…§ç‰‡å—ï¼Ÿ')) {
                if (AppData.deleteItem(AppData.photos, id)) {
                    initAlbum();
                }
            }
        }
        
        // åˆå§‹åŒ–éŸ³ä¹æ’­æ”¾å™¨
        function initMusicPlayer() {
            const playlistContainer = document.getElementById('playlist');
            
            if (AppData.songs.length === 0) {
                playlistContainer.innerHTML = '<div class="empty-state">è¿˜æ²¡æœ‰æ·»åŠ éŸ³ä¹ï¼Œç‚¹å‡»+æ·»åŠ ç¬¬ä¸€é¦–æ­Œæ›²</div>';
                return;
            }
            
            playlistContainer.innerHTML = '';
            AppData.songs.forEach((song, index) => {
                const songItem = document.createElement('div');
                songItem.className = 'playlist-item';
                if (index === 0) songItem.classList.add('active');
                songItem.innerHTML = `
                    <div>
                        <div><strong>${song.title}</strong></div>
                        <div style="font-size: 0.8rem; color: #666;">${song.artist}</div>
                    </div>
                    <button class="item-delete" onclick="deleteSong(${song.id})">Ã—</button>
                `;
                songItem.addEventListener('click', () => {
                    document.querySelectorAll('.playlist-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    songItem.classList.add('active');
                    document.getElementById('now-playing').textContent = `æ­£åœ¨æ’­æ”¾: ${song.title}`;
                    // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥è®¾ç½®éŸ³é¢‘æ’­æ”¾å™¨çš„src
                    // document.getElementById('audio-player').src = song.src;
                });
                playlistContainer.appendChild(songItem);
            });
        }
        
        // åˆ é™¤æ­Œæ›²
        function deleteSong(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™é¦–æ­Œæ›²å—ï¼Ÿ')) {
                if (AppData.deleteItem(AppData.songs, id)) {
                    initMusicPlayer();
                }
            }
        }
        
        // åˆå§‹åŒ–æ—¥è®°
        function initDiary() {
            const diaryContainer = document.getElementById('diary-container');
            
            if (AppData.diaries.length === 0) {
                diaryContainer.innerHTML = '<div class="empty-state">è¿˜æ²¡æœ‰æ—¥è®°ï¼Œç‚¹å‡»+è®°å½•ç¬¬ä¸€ç¯‡æ—¥è®°</div>';
                return;
            }
            
            diaryContainer.innerHTML = '';
            AppData.diaries.forEach(diary => {
                const diaryItem = document.createElement('div');
                diaryItem.className = 'diary-item';
                diaryItem.innerHTML = `
                    <div class="diary-date">${diary.date}</div>
                    <h3>${diary.title}</h3>
                    <div class="diary-content">${diary.content}</div>
                    <button class="item-delete" onclick="deleteDiary(${diary.id})">Ã—</button>
                `;
                diaryContainer.appendChild(diaryItem);
            });
        }
        
        // åˆ é™¤æ—¥è®°
        function deleteDiary(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ç¯‡æ—¥è®°å—ï¼Ÿ')) {
                if (AppData.deleteItem(AppData.diaries, id)) {
                    initDiary();
                }
            }
        }
        
        // åˆå§‹åŒ–è®°è´¦
        function initExpense() {
            const expenseContainer = document.getElementById('expense-container');
            
            if (AppData.expenses.length === 0) {
                expenseContainer.innerHTML = '<div class="empty-state">è¿˜æ²¡æœ‰è®°è´¦è®°å½•ï¼Œç‚¹å‡»+æ·»åŠ ç¬¬ä¸€ç¬”æ”¯å‡º</div>';
                return;
            }
            
            expenseContainer.innerHTML = '';
            let total = 0;
            
            AppData.expenses.forEach(expense => {
                total += parseFloat(expense.amount);
                const expenseItem = document.createElement('div');
                expenseItem.className = 'expense-item';
                expenseItem.innerHTML = `
                    <div>
                        <div>${expense.description}</div>
                        <div style="font-size: 0.8rem; color: #666;">${expense.category} â€¢ ${expense.date}</div>
                    </div>
                    <div style="font-weight: bold;">Â¥${parseFloat(expense.amount).toFixed(2)}</div>
                    <button class="item-delete" onclick="deleteExpense(${expense.id})">Ã—</button>
                `;
                expenseContainer.appendChild(expenseItem);
            });
            
            // æ·»åŠ æ€»è®¡
            const totalItem = document.createElement('div');
            totalItem.className = 'expense-item';
            totalItem.style.borderTop = '2px solid #eee';
            totalItem.style.fontWeight = 'bold';
            totalItem.innerHTML = `
                <div>æ€»è®¡</div>
                <div>Â¥${total.toFixed(2)}</div>
            `;
            expenseContainer.appendChild(totalItem);
        }
        
        // åˆ é™¤è®°è´¦è®°å½•
        function deleteExpense(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°è´¦è®°å½•å—ï¼Ÿ')) {
                if (AppData.deleteItem(AppData.expenses, id)) {
                    initExpense();
                }
            }
        }
        
        // åˆå§‹åŒ–æ—…è¡Œè®¡åˆ’
        function initTravelPlans() {
            const travelContainer = document.getElementById('travel-container');
            
            if (AppData.travelPlans.length === 0) {
                travelContainer.innerHTML = '<div class="empty-state">è¿˜æ²¡æœ‰æ—…è¡Œè®¡åˆ’ï¼Œç‚¹å‡»+æ·»åŠ ç¬¬ä¸€ä¸ªè®¡åˆ’</div>';
                return;
            }
            
            travelContainer.innerHTML = '';
            AppData.travelPlans.forEach(plan => {
                const travelItem = document.createElement('div');
                travelItem.className = 'travel-plan';
                travelItem.innerHTML = `
                    <div class="travel-date">${plan.date}</div>
                    <div class="travel-destination">${plan.destination}</div>
                    <div>${plan.details}</div>
                    <button class="item-delete" onclick="deleteTravelPlan(${plan.id})">Ã—</button>
                `;
                travelContainer.appendChild(travelItem);
            });
        }
        
        // åˆ é™¤æ—…è¡Œè®¡åˆ’
        function deleteTravelPlan(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ—…è¡Œè®¡åˆ’å—ï¼Ÿ')) {
                if (AppData.deleteItem(AppData.travelPlans, id)) {
                    initTravelPlans();
                }
            }
        }
        
        // æ˜¾ç¤ºç…§ç‰‡è¯¦æƒ…
        function showPhotoDetail(id) {
            const photo = AppData.photos.find(p => p.id === id);
            if (photo) {
                alert(`æŸ¥çœ‹ç…§ç‰‡: ${photo.caption}\n\nç‚¹å‡»ç¡®å®šå…³é—­`);
            }
        }
        
        // æ›´æ–°å€’è®¡æ—¶
        function updateCountdown() {
            const targetDate = new Date(AppData.countdown.date);
            const now = new Date();
            const timeLeft = targetDate - now;
            
            if (timeLeft < 0) {
                document.getElementById("countdown-days").textContent = "0";
                document.getElementById("countdown-hours").textContent = "0";
                document.getElementById("countdown-minutes").textContent = "0";
                document.getElementById("countdown-seconds").textContent = "0";
                return;
            }
            
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
            
            document.getElementById("countdown-days").textContent = days;
            document.getElementById("countdown-hours").textContent = hours;
            document.getElementById("countdown-minutes").textContent = minutes;
            document.getElementById("countdown-seconds").textContent = seconds;
        }
        
        // åˆå§‹åŒ–æ¨¡æ€æ¡†
        function initModals() {
            const modals = document.querySelectorAll('.modal');
            const closeButtons = document.querySelectorAll('.close-modal');
            
            // å…³é—­æ¨¡æ€æ¡†
            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    modals.forEach(modal => {
                        modal.style.display = 'none';
                    });
                });
            });
            
            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            window.addEventListener('click', (e) => {
                if (e.target.classList.contains('modal')) {
                    e.target.style.display = 'none';
                }
            });
            
            // ç¼–è¾‘å€’è®¡æ—¶
            document.getElementById('edit-countdown').addEventListener('click', () => {
                document.getElementById('countdown-title').value = AppData.countdown.title;
                document.getElementById('countdown-date').value = AppData.countdown.date;
                document.getElementById('countdown-modal').style.display = 'flex';
            });
            
            // ä¿å­˜å€’è®¡æ—¶
            document.getElementById('save-countdown-btn').addEventListener('click', () => {
                const title = document.getElementById('countdown-title').value;
                const date = document.getElementById('countdown-date').value;
                
                if (title && date) {
                    AppData.countdown = {
                        title: title,
                        date: date
                    };
                    AppData.saveData();
                    updateCountdown();
                    document.getElementById('countdown-modal').style.display = 'none';
                    alert('å€’è®¡æ—¶å·²æ›´æ–°ï¼');
                } else {
                    alert('è¯·å¡«å†™å®Œæ•´çš„æ—¥æœŸä¿¡æ¯');
                }
            });
            
            // æ·»åŠ ç…§ç‰‡æŒ‰é’®
            document.getElementById('add-photo-btn').addEventListener('click', () => {
                document.getElementById('photo-modal').style.display = 'flex';
            });
            
            // ç…§ç‰‡ä¸Šä¼ 
            document.getElementById('photo-upload').addEventListener('change', function(e) {
                const files = e.target.files;
                if (files.length > 0) {
                    const desc = document.getElementById('photo-desc').value || 'æˆ‘ä»¬çš„ç…§ç‰‡';
                    
                    Array.from(files).forEach(file => {
                        const reader = new FileReader();
                        
                        reader.onload = function(e) {
                            const newPhoto = {
                                id: AppData.generateId(AppData.photos),
                                src: e.target.result,
                                caption: desc
                            };
                            
                            AppData.photos.push(newPhoto);
                            AppData.saveData();
                            initAlbum();
                        };
                        
                        reader.readAsDataURL(file);
                    });
                    
                    document.getElementById('photo-modal').style.display = 'none';
                    document.getElementById('photo-desc').value = '';
                    alert(`æˆåŠŸæ·»åŠ äº† ${files.length} å¼ ç…§ç‰‡ï¼`);
                }
            });
            
            // ä¿å­˜ç…§ç‰‡æŒ‰é’®
            document.getElementById('save-photo-btn').addEventListener('click', () => {
                const files = document.getElementById('photo-upload').files;
                if (files.length === 0) {
                    alert('è¯·å…ˆé€‰æ‹©ç…§ç‰‡');
                    return;
                }
                
                const desc = document.getElementById('photo-desc').value || 'æˆ‘ä»¬çš„ç…§ç‰‡';
                
                Array.from(files).forEach(file => {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        const newPhoto = {
                            id: AppData.generateId(AppData.photos),
                            src: e.target.result,
                            caption: desc
                        };
                        
                        AppData.photos.push(newPhoto);
                        AppData.saveData();
                        initAlbum();
                    };
                    
                    reader.readAsDataURL(file);
                });
                
                document.getElementById('photo-modal').style.display = 'none';
                document.getElementById('photo-desc').value = '';
                document.getElementById('photo-upload').value = '';
                alert(`æˆåŠŸæ·»åŠ äº† ${files.length} å¼ ç…§ç‰‡ï¼`);
            });
            
            // æ·»åŠ éŸ³ä¹æŒ‰é’®
            document.getElementById('add-music-btn').addEventListener('click', () => {
                document.getElementById('music-modal').style.display = 'flex';
            });
            
            // ä¿å­˜éŸ³ä¹
            document.getElementById('save-music-btn').addEventListener('click', () => {
                const title = document.getElementById('music-title').value;
                const artist = document.getElementById('music-artist').value;
                const url = document.getElementById('music-url').value;
                
                if (title && artist && url) {
                    const newSong = {
                        id: AppData.generateId(AppData.songs),
                        title: title,
                        artist: artist,
                        src: url
                    };
                    
                    AppData.songs.push(newSong);
                    AppData.saveData();
                    initMusicPlayer();
                    document.getElementById('music-modal').style.display = 'none';
                    
                    // æ¸…ç©ºè¡¨å•
                    document.getElementById('music-title').value = '';
                    document.getElementById('music-artist').value = '';
                    document.getElementById('music-url').value = '';
                } else {
                    alert('è¯·å¡«å†™å®Œæ•´çš„éŸ³ä¹ä¿¡æ¯');
                }
            });
            
            // æ·»åŠ æ—¥è®°æŒ‰é’®
            document.getElementById('add-diary-btn').addEventListener('click', () => {
                document.getElementById('diary-modal').style.display = 'flex';
            });
            
            // ä¿å­˜æ—¥è®°
            document.getElementById('save-diary-btn').addEventListener('click', () => {
                const title = document.getElementById('diary-title').value;
                const content = document.getElementById('diary-content').value;
                
                if (title && content) {
                    const newDiary = {
                        id: AppData.generateId(AppData.diaries),
                        title: title,
                        content: content,
                        date: new Date().toISOString().split('T')[0]
                    };
                    
                    AppData.diaries.push(newDiary);
                    AppData.saveData();
                    initDiary();
                    document.getElementById('diary-modal').style.display = 'none';
                    
                    // æ¸…ç©ºè¡¨å•
                    document.getElementById('diary-title').value = '';
                    document.getElementById('diary-content').value = '';
                } else {
                    alert('è¯·å¡«å†™å®Œæ•´çš„æ—¥è®°ä¿¡æ¯');
                }
            });
            
            // ä¿å­˜è®°è´¦
            document.getElementById('save-expense-btn').addEventListener('click', () => {
                const desc = document.getElementById('expense-desc').value;
                const amount = document.getElementById('expense-amount').value;
                const category = document.getElementById('expense-category').value;
                
                if (desc && amount) {
                    const newExpense = {
                        id: AppData.generateId(AppData.expenses),
                        description: desc,
                        amount: parseFloat(amount).toFixed(2),
                        category: category,
                        date: new Date().toISOString().split('T')[0]
                    };
                    
                    AppData.expenses.push(newExpense);
                    AppData.saveData();
                    initExpense();
                    
                    // æ¸…ç©ºè¡¨å•
                    document.getElementById('expense-desc').value = '';
                    document.getElementById('expense-amount').value = '';
                } else {
                    alert('è¯·å¡«å†™å®Œæ•´çš„è®°è´¦ä¿¡æ¯');
                }
            });
            
            // æ·»åŠ æ—…è¡Œè®¡åˆ’æŒ‰é’®
            document.getElementById('add-travel-btn').addEventListener('click', () => {
                document.getElementById('travel-modal').style.display = 'flex';
            });
            
            // ä¿å­˜æ—…è¡Œè®¡åˆ’
            document.getElementById('save-travel-btn').addEventListener('click', () => {
                const destination = document.getElementById('travel-destination').value;
                const date = document.getElementById('travel-date').value;
                const details = document.getElementById('travel-details').value;
                
                if (destination && date) {
                    const newTravel = {
                        id: AppData.generateId(AppData.travelPlans),
                        destination: destination,
                        date: date,
                        details: details
                    };
                    
                    AppData.travelPlans.push(newTravel);
                    AppData.saveData();
                    initTravelPlans();
                    document.getElementById('travel-modal').style.display = 'none';
                    
                    // æ¸…ç©ºè¡¨å•
                    document.getElementById('travel-destination').value = '';
                    document.getElementById('travel-date').value = '';
                    document.getElementById('travel-details').value = '';
                } else {
                    alert('è¯·å¡«å†™å®Œæ•´çš„æ—…è¡Œè®¡åˆ’ä¿¡æ¯');
                }
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('load', function() {
            initFeatureCards();
            initBackButtons();
            initAvatarUpload();
            initAlbum();
            initMusicPlayer();
            initDiary();
            initExpense();
            initTravelPlans();
            initModals();
            
            // æ›´æ–°å€’è®¡æ—¶
            updateCountdown();
            setInterval(updateCountdown, 1000);
            
            // é¡µé¢åŠ è½½åŠ¨ç”»
            document.querySelector('.app-container').style.opacity = 0;
            document.querySelector('.app-container').style.transform = 'translateY(20px)';
            
            setTimeout(function() {
                document.querySelector('.app-container').style.transition = 'all 0.8s ease';
                document.querySelector('.app-container').style.opacity = 1;
                document.querySelector('.app-container').style.transform = 'translateY(0)';
            }, 300);
        });
    </script>
</body>
</html>
